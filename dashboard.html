<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover">
    <meta http-equiv="Content-Security-Policy" content="default-src 'self'; connect-src 'self' http://localhost:3000 https://ai-plus-education.onrender.com; script-src 'self' 'unsafe-inline'; style-src 'self' https://fonts.googleapis.com 'unsafe-inline'; font-src 'self' https://fonts.gstatic.com; img-src 'self' data: https:;">
    <title>Practice Tests - AI Plus Education</title>
    <link rel="stylesheet" href="dashboard-styles.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <style>
        /* Additional overscroll prevention */
        html, body {
            overscroll-behavior: none !important;
            overscroll-behavior-y: none !important;
            overscroll-behavior-x: none !important;
            touch-action: pan-y;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Prevent pull-to-refresh */
        body {
            position: relative;
            overflow-x: hidden;
        }
        
        @media (max-width: 768px) {
            html {
                position: fixed;
                height: 100%;
                width: 100%;
                overflow: hidden;
            }
            
            body {
                position: fixed;
                height: 100%;
                width: 100%;
                overflow-y: auto;
                overflow-x: hidden;
                -webkit-overflow-scrolling: touch;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="container">
            <div class="nav-brand">
                <h1>AI Plus Education</h1>
                <a href="admin.html" class="admin-toggle" style="display: none;">Admin</a>
            </div>
            <nav class="nav">
                <div class="nav-links">
                    <a href="dashboard.html" class="nav-link active">Dashboard</a>
                    <a href="profile.html" class="nav-link">Profile</a>
                    <a href="test-history.html" class="nav-link">Test History</a>
                </div>
                <div class="user-info">
                    <span class="welcome-text">Welcome, <span id="user-name">Student</span></span>
                    <button id="logout-btn" class="btn btn-outline">Logout</button>
                </div>
            </nav>
        </div>
    </header>

    <!-- Main Content -->
    <main class="main-content">
        <div class="container">
            <!-- Test Selection View -->
            <section id="test-selection" class="test-selection">
                <div class="section-header">
                    <h1>Choose Your Practice Test</h1>
                    <p>Select a test to begin your practice session</p>
                </div>

                <div class="user-stats">
                    <div class="stat-card">
                        <h3>Tests Completed</h3>
                        <span class="stat-number" id="total-tests">0</span>
                    </div>
                    <div class="stat-card">
                        <h3>Average Score</h3>
                        <span class="stat-number" id="avg-score">0%</span>
                    </div>
                </div>



                <div class="tests-grid">
                    <div class="test-card" data-test="shsat">
                        <div class="test-icon">üìö</div>
                        <h2>SHSAT</h2>
                        <p>Specialized High School Admissions Test</p>
                        <div class="test-details">
                            <div class="detail-item">
                                <span class="label">Sections:</span>
                                <span class="value">ELA & Math</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Questions:</span>
                                <span class="value">114 total</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Time:</span>
                                <span class="value">180 minutes</span>
                            </div>
                        </div>
                        <div class="test-progress">
                            <div class="progress-info">
                                <span>Tests taken: <span class="test-count">0</span></span>
                                <span>Best score: <span class="best-score">N/A</span></span>
                            </div>
                        </div>
                        <div class="test-buttons">
                            <button class="btn btn-primary start-test-btn" data-practice-set="1">Start Practice 1</button>
                            <button class="btn btn-secondary start-test-btn" data-practice-set="2">Start Practice 2</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="3">Start Practice 3</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="4">Start Practice 4</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="5">Start Practice 5</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="6">Start Practice 6</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="7">Start Practice 7</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="8">Start Practice 8</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="9">Start Practice 9</button>
                            <button class="btn btn-primary start-test-btn" data-practice-set="10">Start Practice 10</button>
                            <button class="btn btn-diagnostic start-test-btn" data-practice-set="diagnostic">Start Diagnostic Test</button>
                        </div>
                    </div>

                    <div class="test-card" data-test="sat">
                        <div class="test-icon">üéØ</div>
                        <h2>SAT</h2>
                        <p>College Admissions Test Practice</p>
                        <div class="test-details">
                            <div class="detail-item">
                                <span class="label">Sections:</span>
                                <span class="value">Reading & Writing</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Questions:</span>
                                <span class="value">~54 questions</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Time:</span>
                                <span class="value">~64 minutes</span>
                            </div>
                        </div>
                        <div class="test-progress">
                            <div class="progress-info">
                                <span>Tests taken: <span class="test-count">0</span></span>
                                <span>Best score: <span class="best-score">N/A</span></span>
                            </div>
                        </div>
                        <div class="test-buttons">
                            <button class="btn btn-primary start-test-btn" data-practice-set="1">Start Practice 1</button>
                            <button class="btn btn-secondary start-test-btn" data-practice-set="2">Start Practice 2</button>
                        </div>
                    </div>

                    <div class="test-card" data-test="state">
                        <div class="test-icon">üèõÔ∏è</div>
                        <h2>State Tests</h2>
                        <p>State Standardized Assessments</p>
                        <div class="test-details">
                            <div class="detail-item">
                                <span class="label">Sections:</span>
                                <span class="value">ELA & Math</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Questions:</span>
                                <span class="value">Varies by grade</span>
                            </div>
                            <div class="detail-item">
                                <span class="label">Time:</span>
                                <span class="value">90-180 minutes</span>
                            </div>
                        </div>
                        <div class="test-progress">
                            <div class="progress-info">
                                <span>Tests taken: <span class="test-count">0</span></span>
                                <span>Best score: <span class="best-score">N/A</span></span>
                            </div>
                        </div>
                        <div class="test-buttons">
                            <button class="btn btn-primary start-test-btn" data-practice-set="1">Start Grade 7 Test-1</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Practice Test View -->
            <section id="practice-test" class="practice-test" style="display: none;">
                <div class="test-header">
                    <div class="test-info">
                        <h1 id="current-test-title">SHSAT Practice Test</h1>
                        <div class="test-meta">
                            <span class="question-counter">Question <span id="current-question">1</span> of <span id="total-questions">0</span></span>
                            <span class="current-section">Section: <span id="current-section">English Language Arts</span></span>
                        </div>
                    </div>
                    <div class="test-controls">
                        <div class="timer">
                            <span class="timer-label">Time Remaining:</span>
                            <span class="timer-display" id="timer">60:00</span>
                        </div>
                        <button id="end-test-btn" class="btn btn-outline">End Test</button>
                    </div>
                </div>

                <div class="test-navigation">
                    <div class="nav-buttons">
                        <button id="prev-question" class="btn btn-outline" disabled>Previous</button>
                        <div class="question-grid">
                            <!-- Question numbers will be generated here -->
                        </div>
                        <button id="next-question" class="btn btn-primary">Next</button>
                    </div>
                    <!-- Test summary will be added here dynamically -->
                </div>

                <div class="question-container">
                    <div class="question-content">
                        <div class="question-text" id="question-text">
                            <!-- Question will be loaded here -->
                        </div>
                        <div class="question-options" id="question-options">
                            <!-- Answer options will be loaded here -->
                        </div>
                    </div>
                </div>
            </section>

            <!-- Test Results View -->
            <section id="test-results" class="test-results" style="display: none;">
                <div class="results-header">
                    <h1>Test Complete!</h1>
                    <p>Here are your results for this practice session</p>
                </div>

                <div id="shsat-score-breakdown" class="score-breakdown" style="display: none;">
                    <div class="shsat-score-total">
                        Total SHSAT Score: <span id="shsat-total-score">0</span>
                    </div>
                    <div class="shsat-score-sections">
                        <div class="shsat-score-section">
                            <strong>Math:</strong> <span id="shsat-math-score">0</span>
                        </div>
                        <div class="shsat-score-section">
                            <strong>English:</strong> <span id="shsat-english-score">0</span>
                        </div>
                    </div>
                </div>

                <div id="sat-score-breakdown" class="score-breakdown" style="display: none;">
                    <div class="sat-score-total">
                        Total SAT Score: <span id="sat-total-score">0</span>
                    </div>
                    <div class="sat-score-sections">
                        <div class="sat-score-section">
                            <strong>Math:</strong> <span id="sat-math-score">0</span>
                        </div>
                        <div class="sat-score-section">
                            <strong>Reading & Writing:</strong> <span id="sat-rw-score">0</span>
                        </div>
                    </div>
                </div>

                <div class="score-summary">
                    <div class="score-main">
                        <div class="score-circle">
                            <span class="score-percentage" id="final-score">85%</span>
                        </div>
                        <div class="score-details">
                            <div class="score-item">
                                <span class="label">Correct Answers:</span>
                                <span class="value" id="correct-count">17/20</span>
                            </div>
                            <div class="score-item">
                                <span class="label">Time Taken:</span>
                                <span class="value" id="time-taken">25:30</span>
                            </div>
                            <div class="score-item">
                                <!-- <span class="label">Section:</span> -->
                                <!-- <span class="value" id="section-name">English Language Arts</span> -->
                            </div>
                        </div>
                    </div>
                </div>

                <div class="results-actions">
                    <!-- <button id="review-answers" class="btn btn-outline">Review Answers</button> -->
                    <button id="retake-test" class="btn btn-primary">Take Another Test</button>
                    <button id="back-to-dashboard" class="btn btn-secondary">Back to Dashboard</button>
                </div>

                <div class="performance-breakdown">
                    <h3>Performance Breakdown</h3>
                    <div class="topic-scores" id="topic-scores">
                        <!-- Topic-wise scores will be loaded here -->
                    </div>
                </div>

                <div class="detailed-review-section">
                    <h3>Question Review</h3>
                    <div class="detailed-review" id="detailed-review">
                        <!-- Detailed question review will be loaded here -->
                    </div>
                </div>

                <div class="results-summary">
                    <div class="summary-item">
                        <span class="summary-label">Correct Answers</span>
                        <span class="summary-value" id="correct-answers">17/20</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-label">Time Taken</span>
                        <span class="summary-value" id="time-taken">25:30</span>
                    </div>
                </div>
            </section>
        </div>
    </main>

    <!-- Test Code Modal -->
    <div id="test-code-modal" class="modal" style="display: none;">
        <div class="modal-content">
            <span class="close-button">&times;</span>
            <h2>Enter Test Code</h2>
            <p>Please enter the 3-digit code to start the test.</p>
            <input type="text" id="test-code-input" class="test-code-input" maxlength="3" placeholder="_ _ _">
            <button id="submit-test-code" class="btn btn-primary">Start Test</button>
            <p id="test-code-error" class="error-message" style="display: none;"></p>
        </div>
    </div>

    <script src="/js/dashboard-script.js" type="module"></script>
</body>
</html> 
